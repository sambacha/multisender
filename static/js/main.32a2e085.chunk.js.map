{"version":3,"sources":["components/Header.js","generateElement.js","components/1.js","components/2.js","components/3.js","components/Transaction.js","components/approve.js","components/4.js","components/5.js","components/Retry.js","components/Welcome.js","components/Navigation.js","App.js","getWeb3.js","stores/web3Store.js","stores/tokenStore.js","stores/gasPriceStore.js","stores/txStore.js","stores/UiStore.js","index.js"],"names":["Header","inject","observer","React","Component","state","multisenderAddress","componentDidMount","this","props","UiStore","tokenStore","proxyMultiSenderAddress","setState","render","explorerUrl","web3Store","className","href","htmlFor","target","generateElement","msg","errorNode","document","createElement","innerHTML","required","control","error","isChanged","isUsed","value","toString","trim","length","FirstStep","onNext","wizard","a","step","id","parseCompleted","onCsvChange","csv","parseAddresses","console","log","jsonAddresses","swal","title","text","icon","invalid_addresses","JSON","stringify","slice","push","message","txStore","setStartedUrl","onTokenAddress","bind","onDecimalsChange","format","placeholder","tokenAddress","label","onParse","addNextHandler","tokenInfoArray","userTokens","filter","t","tokenInfo","reduce","v","addresses","Object","keys","e","address","Web3Utils","isAddress","setTokenAddress","setDecimals","Promise","res","rej","csvtojson","noheader","fromString","on","el","defineProperty","writable","configurable","enumerable","setJsonAddresses","content","errors","Creatable","isLoading","loading","name","onChange","loadingPlaceholder","options","disabled","data-gram","validations","onBlur","createTheme","primary","secondary","fontFamily","background","default","context","divider","button","focus","hover","sortFocus","RecipientsDataTable","columns","selector","sortable","grow","tokenSymbol","left","theme","customStyles","pagination","style","marginBottom","cells","paginationPerPage","data","paginationTotalRows","ThirdStep","BN","totalBalance","gt","defAccTokenBalance","multisendGasEthValue","getMultisendPlusApproveGasEthValue","ethBalanceWei","toWei","ethBalance","displayMultisendGasEthValue","parseFloat","fromWei","toFixed","allowance","gte","onGasPriceChange","selected","gasPriceStore","setSelectedGasPrice","updateCurrentFee","onGasShareChange","setSelectedGasShare","gasPricesArray","gasPrice","transferGas","approveGas","multisendGas","gasSharesArray","dublicates","getTransferGas","totalNumberTx","addPerTx","arrayLimit","getMultisendGas","multisendGasOrig","Math","floor","parseInt","getApproveTxGas","getApproveGas","approveGasOrig","setTimeout","clearTimeout","_updateCurrentFeeImpl","standardInHex","approvePlusMultisendGas","plus","setCurrentFee","savedGas","minus","newCurrentFeeRounded","times","div","selectedGasShare","dp","displayValue","transferEthValue","displayTransferEthValue","savedGasEthValue","displaySavedGasEthValue","selectedGasPrice","padding","renderTokenBalance","renderTransferGasInfo","renderTokenAllowance","renderMultisendGasInfo","renderSavingsGasInfo","addressesData","Transaction","classname","tx","hash","status","ApproveStep","intervalId","txs","doApprove","setInterval","clearInterval","txHashes","map","index","mined","FourthStep","location","reload","totalNumberOftx","calcTotalNumberOftx","doSendExecuted","doSend","Number","txCount","label2","onTxInput","txHash","getTxReceipt","txdata","type","Link","to","Navigation","next","previous","steps","onClick","App","nextHandlers","forEach","handler","ex","startedUrl","Redirect","pathname","Route","history","percent","indexOf","color","TransitionGroup","CSSTransition","classNames","timeout","enter","exit","_web3Config","_web3Promise","getWeb3","resolve","reject","window","addEventListener","hasOwnProperty","web3","Web3","givenProvider","eth","net","getId","then","netId","netIdName","trustApiName","ethereum","request","method","accounts","firstAccount","defaultAccount","estimateGas","__proto__","call","web3Instance","injectedWeb3","catch","err","Web3Store","rootStore","userTokensInitialized","url","web3Config","getUserTokens","setExplorerUrl","blockchain_network","toLowerCase","api_suffix","etherscanApiKey","process","fetch","json","result","tokens","tokensUniqueObj","i","token","tokensUnique","unshift","observable","action","require","TokenStore","getWeb3Promise","web3Obj","netIdEnvVarName","toUpperCase","contractAddress","decimals","Contract","ERC20ABI","methods","balanceOf","multiplier","subscribe","getBalance","toFormat","symbol","currentFee","getCurrentFee","getEthBalance","getArrayLimit","getDecimals","getAllowance","getTokenSymbol","balances_to_send","addresses_to_send","filteredAddresses","account","replace","balance","values","indexAddr","addr","obj","pow","ceil","computed","GasPriceStore","gasPricePromise","getGasPrices","response","fast","gasPrices","toHex","TxStore","txHashToIndex","interval","approval","keepRunning","_approve","toJS","_multisend","totalBalanceWithDecimals","approve","send","from","once","receipt","getTxStatus","transactionHash","encodeABI","encodedData","transfer","totalGas","_getTransferGas","token_address","start","end","totalInWei","total","val","balances_to_send_sum","totalInEth","ethValue","MultiSenderAbi","multisender","multiTransfer_OST","gas","multiTransferToken_a4A","substring","getTransaction","txInfo","getTransactionReceipt","gasUsed","Root","HashRouter","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.32a2e085.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { inject, observer } from 'mobx-react';\n\n@inject('UiStore')\n@observer\nexport class Header extends React.Component {\n  state = {\n    multisenderAddress: null,\n  };\n\n  componentDidMount() {\n    (async () => {\n      const multisenderAddress = await this.props.UiStore.tokenStore.proxyMultiSenderAddress();\n      this.setState({ multisenderAddress });\n    })();\n  }\n\n  render() {\n    const explorerUrl =\n      this.props.UiStore.web3Store.explorerUrl || 'https://etherscan.io';\n\n    return (\n      <header className=\"header\">\n        <div className=\"multisend-container\">\n          <a href=\"#\" className=\"header-logo\"></a>\n          <form className=\"form form_header\">\n            {/* <Link className=\"button\" to='/retry'>Retry Failed Transaction</Link> */}\n            <label htmlFor=\"network\" className=\"multisend-label\">\n              Contract Address:{' '}\n              <a\n                target=\"_blank\"\n                href={`${explorerUrl}/address/${this.state.multisenderAddress}`}\n              >\n                {this.state.multisenderAddress}\n              </a>\n            </label>\n          </form>\n        </div>\n        <div className=\"multisend-container\">\n          Supports Ethereum Mainnet \n        </div>\n      </header>\n    );\n  }\n}\n","export default function generateElement(msg) {\n  let errorNode = document.createElement('div');\n  errorNode.innerHTML = `${msg}`;\n  return errorNode;\n}\n","import React from 'react';\nimport Web3Utils from 'web3-utils';\nimport Form from 'react-validation/build/form';\nimport Textarea from 'react-validation/build/textarea';\nimport Button from 'react-validation/build/button';\nimport { form, control, button } from 'react-validation';\nimport { inject, observer } from 'mobx-react';\nimport swal from 'sweetalert';\nimport generateElement from '../generateElement';\nimport Example from './example.json';\n// import { PulseLoader} from 'react-spinners';\nimport { RadioGroup, Radio } from 'react-radio-group';\nimport csvtojson from 'csvtojson';\nimport Select from 'react-select';\nimport '../assets/stylesheets/react-select.min.css';\n\nconst ownInput = ({ error, isChanged, isUsed, ...props }) => (\n  <div>\n    {isChanged && isUsed && error}\n    <input {...props} />\n  </div>\n);\nconst Input = control(ownInput);\n\nconst required = (value) => {\n  if (!value.toString().trim().length) {\n    return <span className=\"error\">required</span>;\n  }\n};\n\nconst isAddress = (value) => {\n  if (!Web3Utils.isAddress(value)) {\n    return <span className=\"error\">Token address is invalid</span>;\n  }\n};\n// const InvalidJSON = <div>Your JSON is invalid, please visit <a href=\"https://jsonlint.com/\" target=\"_blank\">Online Json Validator</a></div>\n\n// const isJson = (value) => {\n//   try {\n//     JSON.parse(value)\n//   } catch(e) {\n//     return InvalidJSON\n//   }\n// };\n\n@inject('UiStore')\n@observer\nexport class FirstStep extends React.Component {\n  constructor(props) {\n    super(props);\n    this.tokenStore = props.UiStore.tokenStore;\n    this.txStore = props.UiStore.txStore;\n    this.web3Store = props.UiStore.web3Store;\n    this.web3Store.setStartedUrl('#/');\n    this.onTokenAddress = this.onTokenAddress.bind(this);\n    this.onDecimalsChange = this.onDecimalsChange.bind(this);\n    // this.onJsonChange = this.onJsonChange.bind(this);\n    this.state = {\n      format: 'csv',\n      placeholder: `\n0xCBA5018De6b2b6F89d84A1F5A68953f07554765e,12\n0xa6Bf70bd230867c870eF13631D7EFf1AE8Ab85c9,1123.45645\n0x00b5F428905DEA1a67940093fFeaCeee58cA91Ae,1.049\n0x00fC79F38bAf0dE21E1fee5AC4648Bc885c1d774,14546\n`,\n      tokenAddress: { label: '', value: null },\n      csv: '',\n    };\n    // this.onSelectFormat = this.onSelectFormat.bind(this)\n    this.onParse = this.onParse.bind(this);\n    this.parseCompleted = false;\n    // this.list = [];\n\n    this.props.addNextHandler(this.onNext);\n  }\n\n  componentDidMount() {\n    // this.tokenStore.reset()\n    // this.txStore.reset()\n\n    if ('' !== this.tokenStore.tokenAddress) {\n      const tokenInfoArray = this.web3Store.userTokens.filter((t) => {\n        return t.value === this.tokenStore.tokenAddress;\n      });\n      if (tokenInfoArray.length > 0) {\n        const tokenInfo = tokenInfoArray[0];\n        this.setState({ tokenAddress: { ...tokenInfo } });\n      }\n    }\n\n    if (this.tokenStore.jsonAddresses.length > 0) {\n      const csv = this.tokenStore.jsonAddresses.reduce((csv, v) => {\n        const addresses = Object.keys(v);\n        const val = addresses[0] + ',' + v[addresses[0]];\n        return csv + val + '\\n';\n      }, '');\n      this.setState({ csv: csv });\n    }\n  }\n  async onTokenAddress(e) {\n    if (!e) {\n      this.setState({ tokenAddress: { label: '', value: '' } });\n      return;\n    }\n    const address = e.value;\n    if (Web3Utils.isAddress(address)) {\n      await this.tokenStore.setTokenAddress(address);\n      this.setState({ tokenAddress: { label: e.label, value: e.value } });\n    }\n  }\n  //   onSelectFormat(newFormat){\n  //     this.parseCompleted = false;\n  //     if(newFormat === 'csv'){\n  //       this.setState({format: newFormat, placeholder: `\n  // 0xCBA5018De6b2b6F89d84A1F5A68953f07554765e,12\n  // 0xa6Bf70bd230867c870eF13631D7EFf1AE8Ab85c9,1123.45645\n  // 0x00b5F428905DEA1a67940093fFeaCeee58cA91Ae,1.049\n  // 0x00fC79F38bAf0dE21E1fee5AC4648Bc885c1d774,14546\n  //   `})\n  //     swal(\"Information\", `Please provide CSV file in comma separated address,balance format one line per address.\n  //     \\nExample:\\n\n  // 0xCBA5018De6b2b6F89d84A1F5A68953f07554765e,12\n  // 0xa6Bf70bd230867c870eF13631D7EFf1AE8Ab85c9,113.45\n  // 0x00b5F428905DEA1a67940093fFeaCeee58cA91Ae,1.049\n  // 0x00fC79F38bAf0dE21E1fee5AC4648Bc885c1d774,14546\n  //     `, 'info')\n  //     } else {\n  //       this.setState({format: newFormat, placeholder: JSON.stringify(Example)})\n  //       swal({\n  //         content: generateElement(`<div style=\"color:black;\">\n  //         Please provide JSON-array file in the following format.\n  //         \\nExample:\\n\n  //         <div style=\"font-size: 12px;color:purple;\">\n  //         [<br/>\n  //           {\"0xCBA5018De6b2b6F89d84A1F5A68953f07554765e\":\"12\"},\n  //           {\"0xa6Bf70bd230867c870eF13631D7EFf1AE8Ab85c9\":\"1123.45645\"},\n  //           {\"0x00b5F428905DEA1a67940093fFeaCeee58cA91Ae\":\"1.049\"},\n  //           {\"0x00fC79F38bAf0dE21E1fee5AC4648Bc885c1d774\":\"14546\"}\n  //           <br/>]\n  //         </div>\n  //         </div>\n  //         `),\n  //         icon: 'info'\n  //       })\n  //\n  //     }\n  //   }\n  onDecimalsChange(e) {\n    this.tokenStore.setDecimals(e.target.value);\n  }\n\n  // onJsonChange(value) {\n  //   try {\n  //     let addresses = JSON.parse(value);\n  //     this.tokenStore.setJsonAddresses(addresses)\n  //     this.parseCompleted = true;\n  //   } catch(e) {\n  //     const error = e.message.replace(/\\n/g, '\\\\n').replace(/\\r/g, '\\\\r').replace(/\\t/g, '\\\\t');\n  //     console.error(error)\n  //     swal({\n  //       content: generateElement(`${error} Please visit <a target=\"_blank\" href=\"https://jsonlint.com\">JsonLint.com</a>`),\n  //       icon: \"error\",\n  //     })\n  //   }\n  // }\n\n  async onCsvChange(value) {\n    return new Promise((res, rej) => {\n      let addresses = [];\n      csvtojson({ noheader: true })\n        .fromString(value)\n        .on('csv', (csv) => {\n          let el = {};\n          if (csv.length === 2) {\n            Object.defineProperty(el, csv[0], {\n              value: csv[1],\n              writable: true,\n              configurable: true,\n              enumerable: true,\n            });\n            addresses.push(el);\n          }\n        })\n        .on('end', () => {\n          try {\n            console.log('csv is done');\n            this.parseCompleted = true;\n            this.tokenStore.setJsonAddresses(addresses);\n            res(addresses);\n          } catch (e) {\n            console.error(e);\n            rej(e);\n            swal({\n              content: 'Your CSV is invalid',\n              icon: 'error',\n            });\n          }\n        });\n    });\n  }\n\n  onParse(e) {\n    // this.list = e.target.value;\n    this.setState({ csv: e.target.value });\n    // if(this.state.format === 'json') {\n    //   this.onJsonChange(e.target.value)\n    // }\n    if (this.state.format === 'csv') {\n      this.onCsvChange(e.target.value);\n    }\n    return;\n  }\n\n  onNext = async (wizard) => {\n    // console.log(wizard.step)\n    if ('home' !== wizard.step.id) {\n      return;\n    }\n\n    try {\n      if (!this.parseCompleted) {\n        await this.onCsvChange(this.state.csv);\n      }\n      await this.tokenStore.parseAddresses();\n      console.log('length of addresses', this.tokenStore.jsonAddresses.length);\n      if (this.tokenStore.jsonAddresses.length === 0) {\n        swal({\n          title: 'The address list is empty.',\n          text:\n            'Please make sure you set correct CSV or JSON format in input selector',\n          icon: 'error',\n        });\n        return;\n      }\n      if (this.tokenStore.invalid_addresses.length > 0) {\n        swal({\n          title:\n            'There are invalid eth addresses. If you click Next, multisender will remove them from the list.',\n          text: JSON.stringify(\n            this.tokenStore.invalid_addresses.slice(),\n            null,\n            '\\n'\n          ),\n          icon: 'error',\n        });\n        return;\n      }\n      wizard.push('inspect');\n    } catch (e) {\n      console.error(e);\n      swal({\n        title: 'Parsing Error',\n        text: e.message,\n        icon: 'error',\n      });\n    }\n  };\n\n  render() {\n    if (this.tokenStore.errors.length > 0) {\n      swal('Error!', this.tokenStore.errors.toString(), 'error');\n    }\n    if (this.web3Store.errors.length > 0) {\n      swal('Error!', this.web3Store.errors.toString(), 'error');\n    }\n    return (\n      <div>\n        <div className=\"description\">\n          <ol>\n            <li>Select Token Address</li>\n            <li>Enter comma-separated list of addresses and values to send</li>\n            <li>\n              Press the <strong>Next</strong> button\n            </li>\n          </ol>\n        </div>\n        <Form className=\"form\">\n          <div className=\"form-inline\">\n            <div className=\"form-inline-i form-inline-i_token-address\">\n              <label htmlFor=\"token-address\" className=\"multisend-label\">\n                Token Address\n              </label>\n              <Select.Creatable\n                isLoading={this.web3Store.loading}\n                name=\"token-address\"\n                id=\"token-address\"\n                value={this.state.tokenAddress}\n                onChange={this.onTokenAddress}\n                loadingPlaceholder=\"Loading your token addresses...\"\n                placeholder=\"Please select a token or input the address\"\n                options={this.web3Store.userTokens.slice()}\n              />\n            </div>\n          </div>\n\n          <div className=\"form-inline\">\n            <div className=\"form-inline-i form-inline-i_token-address-values\">\n              <label htmlFor=\"token-address-values\" className=\"multisend-label\">\n                List of addresses and values\n              </label>\n              <Textarea\n                disabled={this.web3Store.loading}\n                name=\"token-address-values\"\n                id=\"token-address-values\"\n                data-gram\n                validations={[required]}\n                placeholder={`Example: ${this.state.placeholder}`}\n                value={this.state.csv}\n                onBlur={this.onParse}\n                id=\"addresses-with-balances\"\n                className=\"multisend-textarea\"\n              ></Textarea>\n            </div>\n          </div>\n        </Form>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport class SecondStep extends React.Component {\n  render() {\n    return (\n      <div className=\"multisend-container multisend-container_bg\">\n        <div className=\"content\">\n          <h1 className=\"title\">\n            <strong>Welcome to Transaction</strong> MultiSender\n          </h1>\n          <p className=\"description\">\n            Ethereum Multi Transaction Sender \n          </p>\n          <form className=\"form\">\n            <div className=\"form-inline\">\n              <div className=\"form-inline-i form-inline-i_token-address\">\n                <label htmlFor=\"token-address\" className=\"multisend-label\">\n                  Address\n                </label>\n                <input type=\"text\" className=\"input\" id=\"token-address\" />\n              </div>\n              <div className=\"form-inline-i form-inline-i_token-decimals\">\n                <label htmlFor=\"token-decimals\" className=\"multisend-label\">\n                  Token Decimals\n                </label>\n                <input type=\"text\" className=\"input\" id=\"token-decimals\" />\n              </div>\n            </div>\n            <div className=\"form-inline\">\n              <div className=\"form-inline-i form-inline-i_balance\">\n                <label htmlFor=\"balance\" className=\"multisend-label\">\n                  Balance\n                </label>\n                <input type=\"text\" className=\"input\" id=\"balance\" />\n              </div>\n              <div className=\"form-inline-i form-inline-i_balance\">\n                <label htmlFor=\"address-balance\" className=\"multisend-label\">\n                  Address with Balance\n                </label>\n                <input type=\"text\" className=\"input\" id=\"address-balance\" />\n              </div>\n              <button type=\"button\" className=\"button button_add\"></button>\n            </div>\n            <div className=\"table\">\n              <div className=\"table-tr\">\n                <p className=\"table-td\">0.5 ETH</p>\n                <p className=\"table-td table-td_hash\">\n                  0xf3a71cc1be5ce833c471e3f25aa391f9cd56e1aa\n                </p>\n                <div className=\"table-td\">\n                  <a href=\"#\" className=\"table-remove\"></a>\n                </div>\n              </div>\n              <div className=\"table-tr\">\n                <p className=\"table-td\">2.001 ETH</p>\n                <p className=\"table-td table-td_hash\">\n                  0x67de6a531b58327d075535e89524be5c5672f16b\n                </p>\n                <div className=\"table-td\">\n                  <a href=\"#\" className=\"table-remove\"></a>\n                </div>\n              </div>\n            </div>\n            <Link className=\"button button_next\" to=\"/3\">\n              Check Information\n            </Link>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { inject, observer } from 'mobx-react';\nimport BN from 'bignumber.js';\nimport Web3Utils from 'web3-utils';\nimport swal from 'sweetalert';\nimport Select from 'react-select';\nimport Form from 'react-validation/build/form';\n\nimport DataTable, { createTheme } from 'react-data-table-component';\n\ncreateTheme('solarized', {\n  text: {\n    primary: '#fff',\n    secondary: 'rgb(156, 216, 255)',\n    fontFamily: 'monospace',\n  },\n  background: {\n    default: 'rgba(255,255,255,0)',\n  },\n  context: {\n    background: 'rgba(255,255,255,1)',\n    text: '#FFFFFF',\n  },\n  divider: {\n    default: '#073642',\n  },\n  button: {\n    default: 'rgba(156, 216, 255, 1)',\n    focus: 'rgba(156, 216, 255,.8)',\n    hover: 'rgba(156, 216, 255,.8)',\n    disabled: 'rgba(156, 216, 255, .5)',\n  },\n  sortFocus: {\n    default: 'rgba(156, 216, 255, .54)',\n  },\n});\n\nconst RecipientsDataTable = (props) => {\n  const columns = [\n    {\n      name: 'Address',\n      selector: 'address',\n      sortable: true,\n      grow: 3.8,\n    },\n    {\n      name: 'Amount, ' + props.tokenSymbol,\n      selector: 'balance',\n      sortable: true,\n      left: true,\n    },\n  ];\n\n  const customStyles = {\n    pagination: {\n      style: {\n        marginBottom: '20px',\n      },\n    },\n    cells: {\n      style: {\n        fontFamily: 'monospace',\n      },\n    },\n  };\n\n  return (\n    <DataTable\n      title=\"List of recipients\"\n      columns={columns}\n      theme=\"solarized\"\n      customStyles={customStyles}\n      pagination\n      paginationPerPage={10}\n      data={props.data}\n      paginationTotalRows={props.data.length}\n    />\n  );\n};\n\n@inject('UiStore')\n@observer\nexport class ThirdStep extends React.Component {\n  constructor(props) {\n    super(props);\n    this.tokenStore = props.UiStore.tokenStore;\n    this.txStore = props.UiStore.txStore;\n    this.gasPriceStore = props.UiStore.gasPriceStore;\n    console.log(this.gasPriceStore.gasPricesArray);\n    this.state = {\n      gasPrice: '',\n      transferGas: 0,\n      approveGas: 0,\n      multisendGas: 0,\n    };\n    this.gasSharesArray = [\n      { label: '20%', value: '20' },\n      { label: '50%', value: '50' },\n      { label: '70%', value: '70' },\n      { label: '100%', value: '100' },\n    ];\n\n    this.props.addNextHandler(this.onNext);\n  }\n  componentDidMount() {\n    if (this.tokenStore.dublicates.length > 0) {\n      swal({\n        title: `There were duplicated eth addresses in your list.`,\n        text: `${JSON.stringify(\n          this.tokenStore.dublicates.slice(),\n          null,\n          '\\n'\n        )}.\\n Multisender already combined the balances for those addreses. Please make sure it did the calculation correctly.`,\n        icon: 'warning',\n      });\n    }\n    (async () => {\n      try {\n        const transferGas = await this.txStore.getTransferGas({\n          slice: this.tokenStore.totalNumberTx,\n          addPerTx: this.tokenStore.arrayLimit,\n        });\n        this.setState({ transferGas });\n        if (\n          '0x000000000000000000000000000000000000bEEF' ===\n          this.tokenStore.tokenAddress\n        ) {\n          // Ether\n          const multisendGasOrig = await this.txStore.getMultisendGas({\n            slice: this.tokenStore.totalNumberTx,\n            addPerTx: this.tokenStore.arrayLimit,\n          });\n          // Gas Limit: 84,279\n          // Gas Used by Transaction: 82,164 (97.49%)\n          const multisendGas = Math.floor(parseInt(multisendGasOrig) * 0.975);\n          this.setState({ multisendGas });\n          this.updateCurrentFee();\n        } else {\n          if (\n            parseFloat(this.tokenStore.allowance) >=\n            parseFloat(this.tokenStore.totalBalance)\n          ) {\n            const multisendGasOrig = await this.txStore.getMultisendGas({\n              slice: this.tokenStore.totalNumberTx,\n              addPerTx: this.tokenStore.arrayLimit,\n            });\n            // Gas Limit: 116,153\n            // Gas Used by Transaction: 81,933 (70.54%) for ERC20\n            // Gas Limit: 170,018\n            // Gas Used by Transaction: 135,628 (79.77%) for ERC777 // TODO: detect token type\n            const multisendGas = Math.floor(parseInt(multisendGasOrig) * 0.71);\n            const approveGas = await this.txStore.getApproveTxGas();\n            this.setState({ multisendGas, approveGas });\n            this.updateCurrentFee();\n          } else {\n            const approveGasOrig = await this.txStore.getApproveGas();\n            // Gas Limit: 66,181\n            // Gas Used by Transaction: 44,121 (66.67%)\n            const approveGas = Math.floor(parseInt(approveGasOrig) * 0.6667);\n            this.setState({ approveGas });\n          }\n        }\n      } catch (ex) {\n        console.log('3:', ex);\n      }\n    })();\n  }\n\n  updateCurrentFee() {\n    const id = setTimeout(() => {\n      clearTimeout(id);\n      this._updateCurrentFeeImpl();\n    }, 0);\n  }\n\n  _updateCurrentFeeImpl() {\n    const { multisendGas, approveGas, transferGas } = this.state;\n    const gasPrice = this.gasPriceStore.standardInHex;\n    const approvePlusMultisendGas = new BN(multisendGas).plus(\n      new BN(approveGas)\n    );\n    if (approvePlusMultisendGas.gt(new BN(transferGas))) {\n      // no savings\n      this.tokenStore.setCurrentFee('0');\n      return;\n    }\n    const savedGas = new BN(transferGas).minus(approvePlusMultisendGas);\n    const savedGasEthValue = new BN(gasPrice).times(savedGas);\n    const savedGasPerTxEthValue = savedGasEthValue.div(\n      this.tokenStore.totalNumberTx\n    );\n    const newCurrentFee = savedGasPerTxEthValue\n      .times(new BN(parseInt(this.gasPriceStore.selectedGasShare)))\n      .div(100);\n    const newCurrentFeeRounded = newCurrentFee.dp(0, 1);\n    this.tokenStore.setCurrentFee(newCurrentFeeRounded.toString(10));\n  }\n\n  onNext = async (wizard) => {\n    // console.log(wizard.step)\n    if ('inspect' !== wizard.step.id) {\n      return;\n    }\n\n    try {\n      if (\n        new BN(this.tokenStore.totalBalance).gt(\n          new BN(this.tokenStore.defAccTokenBalance)\n        )\n      ) {\n        console.error('Your balance is less than total to send');\n        swal({\n          title: 'Insufficient token balance',\n          text: `You don't have enough tokens to send to all addresses.\\nAmount needed: ${this.tokenStore.totalBalance} ${this.tokenStore.tokenSymbol}`,\n          icon: 'error',\n        });\n        return;\n      }\n      const multisendGasEthValue = this.getMultisendPlusApproveGasEthValue();\n      const ethBalanceWei = Web3Utils.toWei(\n        this.tokenStore.ethBalance,\n        'ether'\n      );\n      if (multisendGasEthValue.gt(new BN(ethBalanceWei))) {\n        const displayMultisendGasEthValue = parseFloat(\n          Web3Utils.fromWei(multisendGasEthValue.toString())\n        ).toFixed(5);\n        console.error('please fund you account in ');\n        swal({\n          title: 'Insufficient ETH balance',\n          text: `You don't have enough ETH to send to all addresses. Amount needed: ${displayMultisendGasEthValue} ETH`,\n          icon: 'error',\n        });\n        return;\n      }\n      if (\n        '0x000000000000000000000000000000000000bEEF' ===\n        this.tokenStore.tokenAddress\n      ) {\n        // Ether\n        wizard.push('multisend');\n      } else {\n        if (\n          new BN(this.tokenStore.allowance).gte(\n            new BN(this.tokenStore.totalBalance)\n          )\n        ) {\n          wizard.push('multisend');\n        } else {\n          wizard.push('approve');\n        }\n      }\n    } catch (e) {\n      console.error(e);\n      swal({\n        title: 'Parsing Error',\n        text: e.message,\n        icon: 'error',\n      });\n    }\n  };\n\n  onGasPriceChange = (selected) => {\n    if (selected) {\n      this.gasPriceStore.setSelectedGasPrice(selected.value);\n      this.updateCurrentFee();\n    }\n  };\n\n  onGasShareChange = (selected) => {\n    if (selected) {\n      this.gasPriceStore.setSelectedGasShare(selected.value);\n      this.updateCurrentFee();\n    }\n  };\n\n  renderTokenBalance() {\n    if (\n      '0x000000000000000000000000000000000000bEEF' ===\n      this.tokenStore.tokenAddress\n    ) {\n      return null;\n    }\n    const value = parseFloat(this.tokenStore.defAccTokenBalance);\n    let displayValue = value.toFixed(5);\n    if ('0.00000' === displayValue) {\n      displayValue = value;\n    }\n    return (\n      <div className=\"send-info-i\">\n        <p>Balance, {this.tokenStore.tokenSymbol}</p>\n        <p className=\"send-info-amount\">{displayValue}</p>\n      </div>\n    );\n  }\n\n  renderTokenAllowance() {\n    if (\n      '0x000000000000000000000000000000000000bEEF' ===\n      this.tokenStore.tokenAddress\n    ) {\n      return null;\n    }\n    return (\n      <div className=\"send-info-i\">\n        <p>Allowance, {this.tokenStore.tokenSymbol}</p>\n        <p className=\"send-info-amount\">{this.tokenStore.allowance}</p>\n      </div>\n    );\n  }\n\n  renderTransferGasInfo() {\n    const gasPrice = this.gasPriceStore.standardInHex;\n    const transferEthValue = new BN(gasPrice).times(\n      new BN(this.state.transferGas)\n    );\n    const displayTransferEthValue = parseFloat(\n      Web3Utils.fromWei(transferEthValue.toString())\n    ).toFixed(5);\n    if (\n      '0x000000000000000000000000000000000000bEEF' ===\n      this.tokenStore.tokenAddress\n    ) {\n      // Ether\n      return (\n        <div className=\"send-info-i\">\n          <p>Gas spent without Multisend, ETH</p>\n          <p className=\"send-info-amount\">{displayTransferEthValue}</p>\n        </div>\n      );\n    } else {\n      if (\n        new BN(this.tokenStore.allowance).gte(\n          new BN(this.tokenStore.totalBalance)\n        )\n      ) {\n        return (\n          <div className=\"send-info-i\">\n            <p>Gas spent without Multisend, ETH</p>\n            <p className=\"send-info-amount\">{displayTransferEthValue}</p>\n          </div>\n        );\n      } else {\n        return (\n          <div className=\"send-info-i\">\n            <p>Gas spent without Multisend, ETH</p>\n            <p className=\"send-info-amount\">{displayTransferEthValue}</p>\n          </div>\n        );\n      }\n    }\n  }\n\n  getMultisendPlusApproveGasEthValue() {\n    const gasPrice = this.gasPriceStore.standardInHex;\n    const approvePlusMultisendGas = new BN(this.state.multisendGas).plus(\n      new BN(this.state.approveGas)\n    );\n    const multisendGasEthValue = new BN(gasPrice).times(\n      approvePlusMultisendGas\n    );\n    return multisendGasEthValue;\n  }\n\n  renderMultisendGasInfo() {\n    const gasPrice = this.gasPriceStore.standardInHex;\n    const approvePlusMultisendGas = new BN(this.state.multisendGas).plus(\n      new BN(this.state.approveGas)\n    );\n    const multisendGasEthValue = new BN(gasPrice).times(\n      approvePlusMultisendGas\n    );\n    const displayMultisendGasEthValue = parseFloat(\n      Web3Utils.fromWei(multisendGasEthValue.toString())\n    ).toFixed(5);\n    if (\n      '0x000000000000000000000000000000000000bEEF' ===\n      this.tokenStore.tokenAddress\n    ) {\n      // Ether\n      return (\n        <div className=\"send-info-i\">\n          <p>Gas spent with Multisend, ETH</p>\n          <p className=\"send-info-amount\">{displayMultisendGasEthValue}</p>\n        </div>\n      );\n    } else {\n      if (\n        new BN(this.tokenStore.allowance).gte(\n          new BN(this.tokenStore.totalBalance)\n        )\n      ) {\n        return (\n          <div className=\"send-info-i\">\n            <p>Gas spent with Multisend, ETH</p>\n            <p className=\"send-info-amount\">{displayMultisendGasEthValue}</p>\n          </div>\n        );\n      } else {\n        return (\n          <div className=\"send-info-i\">\n            <p>Gas spent with Multisend, ETH</p>\n            <p className=\"send-info-amount\">N/A</p>\n          </div>\n        );\n      }\n    }\n  }\n\n  renderSavingsGasInfo() {\n    const { multisendGas, approveGas, transferGas } = this.state;\n    const gasPrice = this.gasPriceStore.standardInHex;\n    const transferEthValue = new BN(gasPrice).times(\n      new BN(this.state.transferGas)\n    );\n    const displayTransferEthValue = Web3Utils.fromWei(\n      transferEthValue.toString()\n    );\n    // const approveGasEthValue = new BN(gasPrice).times(new BN(this.state.approveGas))\n    // const displayApproveGasEthValue = Web3Utils.fromWei(approveGasEthValue.toString())\n    const approvePlusMultisendGas = new BN(multisendGas).plus(\n      new BN(approveGas)\n    );\n    const multisendGasEthValue = new BN(gasPrice).times(\n      approvePlusMultisendGas\n    );\n    const displayMultisendGasEthValue = Web3Utils.fromWei(\n      multisendGasEthValue.toString()\n    );\n    const savedGas = new BN(transferGas).minus(approvePlusMultisendGas);\n    const savedGasEthValue = new BN(gasPrice).times(savedGas);\n    const displaySavedGasEthValue = parseFloat(\n      Web3Utils.fromWei(savedGasEthValue.toString())\n    ).toFixed(5);\n    let sign = '';\n    // if (approvePlusMultisendGas.gt(new BN(transferGas))) {\n    //   sign = \"-\"\n    // }\n    if (\n      '0x000000000000000000000000000000000000bEEF' ===\n      this.tokenStore.tokenAddress\n    ) {\n      // Ether\n      return (\n        <div className=\"send-info-i\">\n          <p>Your gas savings, ETH</p>\n          <p className=\"send-info-amount\">\n            {sign}\n            {displaySavedGasEthValue}\n          </p>\n        </div>\n      );\n    } else {\n      if (\n        new BN(this.tokenStore.allowance).gte(\n          new BN(this.tokenStore.totalBalance)\n        )\n      ) {\n        return (\n          <div className=\"send-info-i\">\n            <p>Your gas savings, ETH</p>\n            <p className=\"send-info-amount\">\n              {sign}\n              {displaySavedGasEthValue}\n            </p>\n          </div>\n        );\n      } else {\n        return (\n          <div className=\"send-info-i\">\n            <p>Your gas savings, ETH</p>\n            <p className=\"send-info-amount\">N/A</p>\n          </div>\n        );\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div>\n          <div className=\"description\">\n            <ol>\n              <li>\n                Choose <strong>Gas Price</strong>\n              </li>\n              <li>\n                Choose <strong>Gas Sharing</strong>\n              </li>\n              <li>Verify addresses and values</li>\n              <li>\n                Press the <strong>Next</strong> button\n              </li>\n            </ol>\n            <p>\n              <strong>Gas Sharing</strong> is a portion of gas saved by this\n              service that you are OK to tip\n            </p>\n          </div>\n          <Form className=\"form\">\n            <div className=\"form-inline\">\n              <div className=\"form-inline-i form-inline-i_gas-price\">\n                <label htmlFor=\"gas-price\" className=\"multisend-label\">\n                  Network Speed (Gas Price)\n                </label>\n                <Select.Creatable\n                  isLoading={this.gasPriceStore.loading}\n                  name=\"gas-price\"\n                  id=\"gas-price\"\n                  value={this.gasPriceStore.selectedGasPrice}\n                  onChange={this.onGasPriceChange}\n                  loadingPlaceholder=\"Fetching gas Price data ...\"\n                  placeholder=\"Please select desired network speed\"\n                  options={this.gasPriceStore.gasPricesArray.slice()}\n                />\n              </div>\n            </div>\n\n            <div className=\"form-inline\">\n              <div className=\"form-inline-i form-inline-i_gas-sharing\">\n                <label htmlFor=\"gas-sharing\" className=\"multisend-label\">\n                  Saved Gas Sharing\n                </label>\n                <Select.Creatable\n                  isLoading={false}\n                  name=\"gas-sharing\"\n                  id=\"gas-sharing\"\n                  value={this.gasPriceStore.selectedGasShare}\n                  onChange={this.onGasShareChange}\n                  loadingPlaceholder=\"\"\n                  placeholder=\"Please select desired gas sharing\"\n                  options={this.gasSharesArray.slice()}\n                />\n              </div>\n            </div>\n          </Form>\n          <div className=\"send-info\" style={{ padding: '15px 0px' }}>\n            <div className=\"send-info-side\">\n              <div className=\"send-info-i\">\n                <p>Total to be Sent, {this.tokenStore.tokenSymbol}</p>\n                <p className=\"send-info-amount\">\n                  {this.tokenStore.totalBalance}\n                </p>\n              </div>\n              {this.renderTokenBalance()}\n              {this.renderTransferGasInfo()}\n              <div className=\"send-info-i\">\n                <p>Total Number of tx Needed</p>\n                <p className=\"send-info-amount\">\n                  {this.tokenStore.totalNumberTx}\n                </p>\n              </div>\n            </div>\n            <div className=\"send-info-side\">\n              {this.renderTokenAllowance()}\n              <div className=\"send-info-i\">\n                <p>Balance, ETH</p>\n                <p className=\"send-info-amount\">{this.tokenStore.ethBalance}</p>\n              </div>\n              {this.renderMultisendGasInfo()}\n              {this.renderSavingsGasInfo()}\n            </div>\n          </div>\n          <RecipientsDataTable\n            data={this.tokenStore.addressesData}\n            tokenSymbol={this.tokenStore.tokenSymbol}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { inject, observer } from 'mobx-react';\n\n@inject('UiStore')\n@observer\nexport class Transaction extends React.Component {\n  render() {\n    const { tx, explorerUrl } = this.props;\n    const { name, hash, status } = tx;\n    let classname;\n    switch (status) {\n      case 'mined':\n        classname = 'table-td_check-hash_done';\n        break;\n      case 'error':\n        classname = 'table-td_check-hash_error';\n        break;\n      case 'pending':\n        classname = 'table-td_check-hash_wait';\n        break;\n      default:\n        classname = 'table-td_check-hash_wait';\n    }\n    // const classname = status === 'mined' ? 'table-td_check-hash_done' : 'table-td_check-hash_wait'\n    return (\n      <div className=\"table-tr\">\n        <div className={`table-td table-td_check-hash ${classname}`}>\n          TxHash:{' '}\n          <a target=\"_blank\" href={`${explorerUrl}/tx/${hash}`}>\n            {hash}\n          </a>{' '}\n          <br /> {name} <br /> Status: {status}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { Transaction } from './Transaction';\n\n@inject('UiStore')\n@observer\nexport class ApproveStep extends React.Component {\n  constructor(props) {\n    super(props);\n    this.props = props;\n    this.txStore = props.UiStore.txStore;\n    this.explorerUrl = props.UiStore.web3Store.explorerUrl;\n    this.intervalId = null;\n    this.state = {\n      txs: this.txStore.txs,\n    };\n\n    this.props.addNextHandler(this.onNext);\n  }\n  componentDidMount() {\n    (async () => {\n      try {\n        await this.txStore.doApprove();\n        this.setState({ txs: this.txStore.txs });\n      } catch (e) {\n        console.log('doApprove error:', e);\n      }\n    })();\n    if (null === this.intervalId) {\n      this.intervalId = setInterval(() => {\n        this.setState({ txs: this.txStore.txs });\n      }, 1000);\n    }\n  }\n\n  componentWillUnmount() {\n    if (null !== this.intervalId) {\n      clearInterval(this.intervalId);\n      this.intervalId = null;\n    }\n  }\n\n  onNext = async (wizard) => {\n    // console.log(wizard.step)\n    if ('approve' !== wizard.step.id) {\n      return;\n    }\n\n    wizard.push('inspect');\n  };\n\n  render() {\n    const { txs } = this.state;\n    const txHashes = txs.map((tx, index) => {\n      return (\n        <Transaction\n          key={index}\n          tx={{ ...tx }}\n          explorerUrl={this.explorerUrl}\n        />\n      );\n    });\n    const mined = txs.reduce((mined, tx) => {\n      const { status } = tx;\n      return mined && status === 'mined';\n    }, true);\n    let status;\n    if (txs.length > 0) {\n      if (mined) {\n        status =\n          'Approve transaction is mined. Press the Next button to continue';\n      } else {\n        status = 'Approve transaction was sent out. Now wait until it is mined';\n      }\n    } else {\n      status = `Waiting for you to sign an Approve transaction in Metamask`;\n    }\n    return (\n      <div>\n        <div>\n          <div className=\"description\">\n            <div>\n              Sign an Approve transaction in MetaMask\n              <br />\n              to send tokens to many recipients from the Multisend smart\n              contract\n            </div>\n            <p>&nbsp;</p>\n            <ol>\n              <li>Confirm Approve transaction in MetaMask</li>\n              <li>Wait for the transaction to be mined</li>\n              <li>\n                Press the <strong>Next</strong> button\n              </li>\n            </ol>\n          </div>\n          <form className=\"form\">\n            <p>{status}</p>\n            <div className=\"table\">{txHashes}</div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { Transaction } from './Transaction';\n\n@inject('UiStore')\n@observer\nexport class FourthStep extends React.Component {\n  constructor(props) {\n    super(props);\n    this.txStore = props.UiStore.txStore;\n    this.tokenStore = props.UiStore.tokenStore;\n    this.explorerUrl = props.UiStore.web3Store.explorerUrl;\n    this.intervalId = null;\n    this.state = {\n      txs: this.txStore.txs,\n      totalNumberOftx: this.calcTotalNumberOftx(),\n    };\n    this.doSendExecuted = false;\n\n    this.props.addNextHandler(this.onNext);\n  }\n\n  onNext = async (wizard) => {\n    // console.log(wizard.step)\n    if ('multisend' !== wizard.step.id) {\n      return;\n    }\n\n    // reload page to make sure that all caches are cleared\n    location.reload();\n  };\n\n  componentDidMount() {\n    (async () => {\n      try {\n        if (!this.doSendExecuted) {\n          this.doSendExecuted = true;\n          await this.txStore.doSend();\n          this.setState({\n            txs: this.txStore.txs,\n            totalNumberOftx: this.calcTotalNumberOftx(),\n          });\n        }\n      } catch (e) {\n        console.log('doApprove error:', e);\n      }\n    })();\n    if (null === this.intervalId) {\n      this.intervalId = setInterval(() => {\n        this.setState({\n          txs: this.txStore.txs,\n          totalNumberOftx: this.calcTotalNumberOftx(),\n        });\n      }, 1000);\n    }\n  }\n\n  componentWillUnmount() {\n    if (null !== this.intervalId) {\n      clearInterval(this.intervalId);\n      this.intervalId = null;\n    }\n  }\n\n  calcTotalNumberOftx() {\n    let totalNumberOftx;\n\n    // if(Number(this.tokenStore.totalBalance) > Number(this.tokenStore.allowance)){\n    //   totalNumberOftx = Number(this.tokenStore.totalNumberTx) + 1;\n    // } else {\n    totalNumberOftx = Number(this.tokenStore.totalNumberTx);\n    // }\n    return totalNumberOftx;\n  }\n\n  render() {\n    const { txs, totalNumberOftx } = this.state;\n    const txHashes = txs.map((tx, index) => {\n      return (\n        <Transaction\n          key={index}\n          tx={{ ...tx }}\n          explorerUrl={this.explorerUrl}\n        />\n      );\n    });\n    const mined = txs.reduce((mined, tx) => {\n      const { status } = tx;\n      return mined && status === 'mined';\n    }, true);\n    let status;\n    if (txs.length === totalNumberOftx) {\n      if (mined) {\n        status = 'All transactions are mined. Congratulations!';\n      } else {\n        status =\n          'Transactions were sent out. Now wait until all transactions are mined.';\n      }\n    } else {\n      const txCount = totalNumberOftx - txs.length;\n      status = `Waiting for you to sign transaction in Metamask`;\n      if (totalNumberOftx > 1) {\n        status = `Waiting for you to sign ${txCount} transactions in Metamask`;\n      }\n    }\n    let label = 'Sign a multisend transaction in MetaMask';\n    if (totalNumberOftx > 1) {\n      label = `Sign all ${totalNumberOftx} multisend transactions in MetaMask`;\n    }\n    let label2 =\n      'to send tokens to many recipients from the Multisend smart contract';\n    if ('ETH' === this.tokenStore.tokenSymbol) {\n      label2 =\n        'to send ETH to many recipients from the Multisend smart contract';\n    }\n    return (\n      <div>\n        <div>\n          <div className=\"description\">\n            <div>\n              {label}\n              <br />\n              {label2}\n            </div>\n            <p>&nbsp;</p>\n            <ol>\n              <li>Confirm all multisend transactions in MetaMask</li>\n              <li>Wait for all transactions to be mined</li>\n              <li>Check transactions on etherscan</li>\n              <li>\n                Press the <strong>Next</strong> button\n              </li>\n            </ol>\n          </div>\n          <form className=\"form\">\n            <p>{status}</p>\n            <div className=\"table\">{txHashes}</div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport class FifthStep extends React.Component {\n  render() {\n    return (\n      <div className=\"multisend-container multisend-container_bg container_opacity\">\n        <div className=\"content\">\n          <div className=\"transactions-title\">\n            <h1 className=\"title\">\n              <strong>Table Name</strong>\n            </h1>\n            <p className=\"title\">\n              Total: <strong>3789.093 ETH</strong>\n            </p>\n          </div>\n          <div className=\"table\">\n            <div className=\"table-tr table-tr_title\">\n              <div className=\"table-td\">Token Name</div>\n              <div className=\"table-td\">Address</div>\n              <div className=\"table-td\">Amount</div>\n            </div>\n            <div className=\"table-tr\">\n              <div className=\"table-td\">\n                <p>Name 1</p>\n              </div>\n              <div className=\"table-td\">\n                <p className=\"break-all\">\n                  0xc6300135a8fcd43123bb486ff06831b5345d0971\n                </p>\n              </div>\n              <div className=\"table-td\">\n                <p>2.5672 ETH</p>\n              </div>\n            </div>\n            <div className=\"table-tr\">\n              <div className=\"table-td\">\n                <p>Name 2</p>\n              </div>\n              <div className=\"table-td\">\n                <p className=\"break-all\">\n                  0x0a7772cdbeee6dbdfdf944dd3e11d32d6a183bde\n                </p>\n              </div>\n              <div className=\"table-td\">\n                <p>8.009 ETH</p>\n              </div>\n            </div>\n          </div>\n          <Link className=\"button button_next\" to=\"/\">\n            Back to Home\n          </Link>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { inject, observer } from 'mobx-react';\nimport swal from 'sweetalert';\nimport { Link } from 'react-router-dom';\nimport generateElement from '../generateElement';\n\n@inject('UiStore')\n@observer\nexport class Retry extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onTxInput = this.onTxInput.bind(this);\n    this.txStore = props.UiStore.txStore;\n\n    this.state = {\n      txHash: '',\n    };\n  }\n\n  onTxInput(e) {\n    const txHash = e.target.value;\n    setTimeout(async () => {\n      if (txHash.length === 66) {\n        // https://kovan.etherscan.io/tx/0x234cb7950c9239ce64033647e14b8fdd915106cad24c8ae57b0eb9052e8ec79a\n        const txdata = await this.txStore.getTxReceipt(txHash);\n        console.log(txdata);\n        this.setState({ txHash });\n      } else {\n        swal({\n          content: generateElement(`Tx Hash is not valid`),\n          icon: 'error',\n        });\n      }\n    }, 750);\n  }\n  render() {\n    return (\n      <div className=\"multisend-container multisend-container_bg container_opacity\">\n        <div className=\"content\">\n          <div className=\"table\">\n            <label htmlFor=\"txhash\" className=\"multisend-label\">\n              Transaction Hash\n            </label>\n            <input\n              onChange={this.onTxInput}\n              type=\"text\"\n              className=\"input\"\n              id=\"txhash\"\n            />\n            <div className=\"table-tr table-tr_title\">\n              <div className=\"table-td\">Token Name</div>\n              <div className=\"table-td\">Address</div>\n              <div className=\"table-td\">Amount</div>\n            </div>\n            <div className=\"table-tr\">\n              <div className=\"table-td\">\n                <p>Name 1</p>\n              </div>\n              <div className=\"table-td\">\n                <p className=\"break-all\">\n                  0xc6300135a8fcd43123bb486ff06831b5345d0971\n                </p>\n              </div>\n              <div className=\"table-td\">\n                <p>2.5672 ETH</p>\n              </div>\n            </div>\n            <div className=\"table-tr\">\n              <div className=\"table-td\">\n                <p>Name 2</p>\n              </div>\n              <div className=\"table-td\">\n                <p className=\"break-all\">\n                  0x0a7772cdbeee6dbdfdf944dd3e11d32d6a183bde\n                </p>\n              </div>\n              <div className=\"table-td\">\n                <p>8.009 ETH</p>\n              </div>\n            </div>\n          </div>\n          <Link className=\"button button_next\" to=\"/\">\n            Back to Home\n          </Link>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport class Welcome extends React.Component {\n  render() {\n    return (\n      <div className=\"multisend-container multisend-container_bg\">\n        <div className=\"content\">\n          <h1 className=\"title\">\n            <strong>Welcome to Token</strong> MultiSender\n          </h1>\n          <p className=\"description\">\n            Desc youtube video how to use multisender\n          </p>\n          <p>Already have JSON or CSV prepared?</p>\n          <Link className=\"button button_next\" to=\"/1\">\n            Proceed for JSON/CSV\n          </Link>\n\n          <p>\n            Transaction Wizard. Build a list of addresses and balances using UI.\n          </p>\n          <Link className=\"button button_next\" to=\"/1\">\n            Proceed for Transaction Wizard\n          </Link>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { WithWizard } from 'react-albus';\n\nconst Navigation = () => (\n  <WithWizard\n    render={({ next, previous, step, steps, push }) => (\n      <div className=\"multisend-buttons\">\n        {'home' !== step.id && 'multisend' !== step.id && (\n          <button\n            className=\"multisend-button multisend-button_prev\"\n            onClick={previous}\n          >\n            Back\n          </button>\n        )}\n\n        {'multisend' === step.id && (\n          <button\n            className=\"multisend-button multisend-button_prev\"\n            onClick={next}\n          >\n            Home\n          </button>\n        )}\n\n        {'multisend' !== step.id && (\n          <button\n            className=\"multisend-button multisend-button_next\"\n            onClick={next}\n          >\n            Next\n          </button>\n        )}\n      </div>\n    )}\n  />\n);\n\nexport default Navigation;\n","import React, { Component } from 'react';\nimport {\n  Header,\n  FirstStep,\n  SecondStep,\n  ThirdStep,\n  ApproveStep,\n  FourthStep,\n  FifthStep,\n  Retry,\n  Welcome,\n} from './components';\nimport { Route, Redirect } from 'react-router-dom';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport { inject } from 'mobx-react';\nimport './assets/stylesheets/application.css';\nimport Navigation from './components/Navigation';\nimport { Wizard, Steps, Step } from 'react-albus';\nimport { Line } from 'rc-progress';\nimport { PulseLoader } from 'react-spinners';\n\n// const RoutedWizard = ({ children }) =>\n//   <Route\n//     render={({ history, match: { url } }) =>\n//       <Wizard history={history} basename={url}>\n//         {children}\n//       </Wizard>}\n//   />;\n\n// const PrivateRoute = ({ component: Component, startedUrl, ...rest }) => (\n//   <Route\n//     {...rest}\n//     render={props =>\n//       startedUrl === '#/' || startedUrl === '#/1' ? (\n//         <Component {...props} />\n//       ) : (\n//         <Redirect\n//           to={{\n//             pathname: \"/\"\n//           }}\n//         />\n//       )\n//     }\n//   />\n// );\n\n@inject('UiStore')\nexport class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.tokenStore = props.UiStore.tokenStore;\n    this.web3Store = props.UiStore.web3Store;\n    this.nextHandlers = [];\n    this.state = {\n      loading: this.web3Store.loading,\n    };\n  }\n\n  componentDidMount() {\n    (async () => {\n      try {\n        await this.tokenStore.proxyMultiSenderAddress();\n        this.setState((state, props) => {\n          return { loading: this.web3Store.loading };\n        });\n      } catch (ex) {\n        console.log('App:', ex);\n      }\n    })();\n  }\n\n  onNext = (wizard) => {\n    (async () => {\n      try {\n        this.nextHandlers.forEach(async (handler) => {\n          await handler(wizard);\n        });\n      } catch (ex) {\n        console.log('onNext:', ex);\n      }\n    })();\n  };\n\n  addNextHandler = (handler) => {\n    this.nextHandlers.push(handler);\n  };\n\n  render() {\n    const { startedUrl } = this.web3Store;\n    if (!(startedUrl === '#/' || startedUrl === '#/home')) {\n      this.web3Store.setStartedUrl('#/');\n      return (\n        <Redirect\n          to={{\n            pathname: '/',\n          }}\n        />\n      );\n    }\n\n    return (\n      <div>\n        <Header />\n        <Route\n          render={({ history }) => (\n            <Wizard\n              history={history}\n              onNext={this.onNext}\n              render={({ step, steps }) => (\n                <div className=\"multisend-container multisend-container_bg\">\n                  <div className=\"content\">\n                    <h1 className=\"title\">\n                      <strong>Welcome to Token</strong> MultiSender\n                    </h1>\n                    <Line\n                      percent={((steps.indexOf(step) + 1) / steps.length) * 100}\n                      className=\"pad-b\"\n                    />\n                    <div className=\"sweet-loading\">\n                      <PulseLoader\n                        color={'#123abc'}\n                        loading={this.state.loading}\n                      />\n                    </div>\n                    <TransitionGroup>\n                      <CSSTransition\n                        key={step.id}\n                        classNames=\"multisend\"\n                        timeout={{ enter: 500, exit: 500 }}\n                      >\n                        <Steps key={step.id} step={step}>\n                          <Step id=\"home\">\n                            <FirstStep addNextHandler={this.addNextHandler} />\n                          </Step>\n                          <Step id=\"inspect\">\n                            <ThirdStep addNextHandler={this.addNextHandler} />\n                          </Step>\n                          <Step id=\"approve\">\n                            <ApproveStep addNextHandler={this.addNextHandler} />\n                          </Step>\n                          <Step id=\"multisend\">\n                            <FourthStep addNextHandler={this.addNextHandler} />\n                          </Step>\n                        </Steps>\n                      </CSSTransition>\n                    </TransitionGroup>\n                    <Navigation />\n                  </div>\n                </div>\n              )}\n            />\n          )}\n        />\n      </div>\n    );\n  }\n}\n","import Web3 from 'web3';\n\nconst getAccounts = () => {\n  return new Promise(function (resolve, reject) {\n    (async () => {\n      try {\n        // Will open the MetaMask UI\n        // You should disable this button while the request is pending!\n        const { ethereum } = window;\n        const accounts = await ethereum.request({\n          method: 'eth_requestAccounts',\n        });\n        resolve(accounts);\n      } catch (error) {\n        console.error(error);\n        reject(error);\n      }\n    })();\n  });\n};\n\nlet _web3Config = null;\nlet _web3Promise = null;\nlet getWeb3 = () => {\n  if (!_web3Promise) {\n    _web3Promise = new Promise(function (resolve, reject) {\n      if (null !== _web3Config) {\n        resolve(_web3Config);\n        return;\n      }\n      // Wait for loading completion to avoid race conditions with ethereum injection timing.\n      window.addEventListener('load', function () {\n        // Checking if ethereum has been injected by the browser (Mist/MetaMask)\n        if (window.hasOwnProperty('ethereum')) {\n          // Use Mist/MetaMask's provider.\n          let web3 = new Web3(Web3.givenProvider);\n          web3.eth.net\n            .getId()\n            .then((netId) => {\n              let netIdName, trustApiName, explorerUrl;\n              console.log('netId', netId);\n              netId = '' + netId;\n              switch (netId) {\n                case '1':\n                  netIdName = 'Mainnet';\n                  trustApiName = 'api';\n                  explorerUrl = 'https://etherscan.io';\n                  console.log('This is Foundation', netId);\n                  break;\n                case '3':\n                  netIdName = 'Ropsten';\n                  trustApiName = 'ropsten';\n                  explorerUrl = 'https://ropsten.etherscan.io';\n                  console.log('This is Ropsten', netId);\n                  break;\n                case '4':\n                  netIdName = 'Rinkeby';\n                  trustApiName = 'rinkeby';\n                  explorerUrl = 'https://rinkeby.etherscan.io';\n                  console.log('This is Rinkeby', netId);\n                  break;\n                case '42':\n                  netIdName = 'Kovan';\n                  trustApiName = 'kovan';\n                  explorerUrl = 'https://kovan.etherscan.io';\n                  console.log('This is Kovan', netId);\n                  break;\n                case '99':\n                  netIdName = 'POA Core';\n                  trustApiName = 'poa';\n                  explorerUrl = 'https://poaexplorer.com';\n                  console.log('This is Core', netId);\n                  break;\n                case '77':\n                  netIdName = 'POA Sokol';\n                  trustApiName = 'https://trust-sokol.herokuapp.com';\n                  explorerUrl = 'https://sokol.poaexplorer.com';\n                  console.log('This is Sokol', netId);\n                  break;\n                default:\n                  netIdName = 'Unknown';\n                  console.log('This is an unknown network.', netId);\n              }\n              document.title = `${netIdName} - MultiSender dApp`;\n              getAccounts()\n                .then((accounts) => {\n                  const firstAccount = accounts.length > 0 ? accounts[0] : null;\n                  var defaultAccount =\n                    web3.eth.defaultAccount || firstAccount || null;\n                  if (defaultAccount === null) {\n                    reject({\n                      message:\n                        'Please unlock your metamask and refresh the page',\n                    });\n                    return;\n                  }\n                  if (\n                    web3.eth.estimateGas.__proto__ &&\n                    web3.eth.estimateGas.__proto__.call\n                  ) {\n                    console.log(\n                      'typeof web3.eth.estimateGas.__proto__.call:',\n                      typeof web3.eth.estimateGas.__proto__.call\n                    );\n                    web3.eth.estimateGas.call =\n                      web3.eth.estimateGas.__proto__.call;\n                    console.log(\n                      'typeof web3.eth.estimateGas.call:',\n                      typeof web3.eth.estimateGas.call\n                    );\n                  }\n                  const results = {\n                    web3Instance: web3,\n                    netIdName,\n                    netId,\n                    injectedWeb3: true,\n                    defaultAccount,\n                    trustApiName,\n                    explorerUrl,\n                  };\n                  _web3Config = results;\n                  resolve(_web3Config);\n                })\n                .catch((err) => {\n                  reject(err);\n                });\n            })\n            .catch((err) => {\n              reject(err);\n            });\n\n          console.log('Injected web3 detected.');\n        } else {\n          // Fallback to localhost if no web3 injection.\n          const errorMsg = `Metamask is not installed. Please go to\n          https://metamask.io and return to this page after you installed it`;\n          console.log('No web3 instance injected, using Local web3.');\n          console.error('Metamask not found');\n          reject({ message: errorMsg });\n          return;\n        }\n      });\n    });\n  }\n  return _web3Promise;\n};\n\nexport default getWeb3;\n","import { action, observable } from 'mobx';\nimport getWeb3 from '../getWeb3';\nimport Web3 from 'web3';\n\nclass Web3Store {\n  @observable web3 = {};\n  @observable defaultAccount = '';\n  @observable loading = true;\n  @observable errors = [];\n  @observable userTokens = [];\n  @observable explorerUrl = '';\n  @observable startedUrl = window.location.hash;\n  constructor(rootStore) {\n    this.userTokensInitialized = false;\n  }\n  @action\n  setExplorerUrl(url) {\n    this.explorerUrl = url;\n  }\n  @action\n  setStartedUrl(url) {\n    this.startedUrl = url;\n  }\n\n  async getWeb3Promise() {\n    return getWeb3()\n      .then(async (web3Config) => {\n        if ('' !== this.explorerUrl) {\n          return this;\n        }\n        const { web3Instance, defaultAccount, netId, netIdName } = web3Config;\n        this.defaultAccount = defaultAccount;\n        // this.web3 = new Web3(web3Instance.currentProvider);\n        this.web3 = web3Instance;\n        this.netId = netId;\n        this.netIdName = netIdName;\n        await this.getUserTokens(web3Config);\n        this.setExplorerUrl(web3Config.explorerUrl);\n        console.log('web3 loaded');\n        return this;\n      })\n      .catch((e) => {\n        console.error(e, 'web3 not loaded');\n        this.errors.push(e.message);\n        throw e;\n      });\n  }\n\n  async getUserTokens({ trustApiName, defaultAccount }) {\n    return new Promise((resolve, reject) => {\n      if (this.userTokensInitialized) {\n        resolve(this);\n        return;\n      }\n      const blockchain_network = this.netIdName.toLowerCase();\n      let api_suffix = '';\n      if ('mainnet' !== blockchain_network) {\n        api_suffix = '-' + blockchain_network;\n      }\n      const etherscanApiKey =\n        process.env['REACT_APP_PROXY_MULTISENDER_ETHERSCAN_API_KEY'];\n      window\n        .fetch(\n          `https://api${api_suffix}.etherscan.io/api?module=account&action=tokentx&address=${defaultAccount}&startblock=0&endblock=999999999&sort=desc&apikey=${etherscanApiKey}`\n        )\n        .then((res) => {\n          return res.json();\n        })\n        .then((res) => {\n          if (\n            !(\n              res.result &&\n              typeof res.result === 'object' &&\n              res.result.hasOwnProperty('length')\n            )\n          ) {\n            this.loading = false;\n            reject(\n              'Failed to load user tokens. Try again a minute later please.'\n            );\n            return;\n          }\n          let tokens = res.result\n            .filter((tx) => {\n              if (\n                !tx.hasOwnProperty('to') ||\n                tx['to'].toLowerCase() != defaultAccount.toLowerCase()\n              ) {\n                return false;\n              }\n              if (!tx.hasOwnProperty('contractAddress')) {\n                return false;\n              }\n              if (!tx.hasOwnProperty('tokenName')) {\n                return false;\n              }\n              if (!tx.hasOwnProperty('tokenSymbol')) {\n                return false;\n              }\n              if (!tx.hasOwnProperty('tokenDecimal')) {\n                return false;\n              }\n              return true;\n            })\n            .map((tx) => {\n              const tokenAddress = tx['contractAddress'];\n              const tokenName = tx['tokenName'];\n              const tokenSymbol = tx['tokenSymbol'];\n              const tokenDecimal = tx['tokenDecimal'];\n              return {\n                label: `${tokenSymbol} - ${tokenAddress}`,\n                value: tokenAddress,\n                tokenSymbol,\n              };\n            });\n          let tokensUniqueObj = {};\n          for (let i = 0; i < tokens.length; i++) {\n            let token = tokens[i];\n            tokensUniqueObj[token.value] = token;\n          }\n          let tokensUnique = Object.keys(tokensUniqueObj).map(\n            (tokenAddress) => tokensUniqueObj[tokenAddress]\n          );\n          tokensUnique.unshift({\n            value: '0x000000000000000000000000000000000000bEEF',\n            label: 'ETH - Ethereum Native Currency',\n          });\n          this.userTokens = tokensUnique;\n          this.userTokensInitialized = true;\n          this.loading = false;\n          resolve(this);\n        })\n        .catch((e) => {\n          this.loading = false;\n          console.error(e);\n          reject(e);\n        });\n    });\n  }\n}\n\nexport default Web3Store;\n","import { action, observable, computed } from 'mobx';\nimport ERC20ABI from '../abis/ERC20ABI.json';\n// import StormMultiSenderABI from '../abis/StormMultisender.json'\nimport Web3Utils from 'web3-utils';\n\nconst BN = require('bignumber.js');\nfunction add(a, b) {\n  return new BN(a).plus(new BN(b));\n}\nclass TokenStore {\n  @observable decimals = '';\n  @observable jsonAddresses = [];\n  @observable tokenAddress = '';\n  @observable defAccTokenBalance = '';\n  @observable allowance = '';\n  @observable currentFee = '0';\n  @observable tokenSymbol = '';\n  @observable ethBalance = '';\n  @observable balances_to_send = [];\n  @observable addresses_to_send = [];\n  @observable invalid_addresses = [];\n  @observable filteredAddresses = [];\n  @observable totalBalance = '0';\n  @observable arrayLimit = 0;\n  @observable errors = [];\n  @observable dublicates = [];\n\n  constructor(rootStore) {\n    this.web3Store = rootStore.web3Store;\n    this.gasPriceStore = rootStore.gasPriceStore;\n  }\n\n  async proxyMultiSenderAddress() {\n    try {\n      const web3Obj = await this.web3Store.getWeb3Promise();\n      const netIdEnvVarName =\n        'REACT_APP_PROXY_MULTISENDER_' + web3Obj.netIdName.toUpperCase();\n      const contractAddress = process.env[netIdEnvVarName];\n      return contractAddress;\n    } catch (ex) {\n      console.log(ex);\n    }\n    return '';\n  }\n\n  @action\n  async getDecimals(address) {\n    if ('' !== this.decimals) {\n      return this.decimals;\n    }\n    try {\n      const web3 = this.web3Store.web3;\n      const token = new web3.eth.Contract(ERC20ABI, address);\n      this.decimals = await token.methods.decimals().call();\n      return this.decimals;\n    } catch (e) {\n      this.errors.push(\n        'Cannot get decimals for token contract.\\n Please make sure you are on the right network and token address exists'\n      );\n      console.error('Get Decimals', e);\n    }\n  }\n\n  async getBalance() {\n    if ('' !== this.defAccTokenBalance) {\n      return this.defAccTokenBalance;\n    }\n    try {\n      const web3 = this.web3Store.web3;\n      const token = new web3.eth.Contract(ERC20ABI, this.tokenAddress);\n      const defAccTokenBalance = await token.methods\n        .balanceOf(this.web3Store.defaultAccount)\n        .call();\n      this.defAccTokenBalance = new BN(defAccTokenBalance)\n        .div(this.multiplier)\n        .toString(10);\n      web3.eth.subscribe('newBlockHeaders', async (err, result) => {\n        if (err) {\n          console.log(err);\n          return;\n        }\n        const defAccTokenBalance = await token.methods\n          .balanceOf(this.web3Store.defaultAccount)\n          .call();\n        this.defAccTokenBalance = new BN(defAccTokenBalance)\n          .div(this.multiplier)\n          .toString(10);\n      });\n      return this.defAccTokenBalance;\n    } catch (e) {\n      this.errors.push(\n        `${this.web3Store.defaultAccount} doesn't have token balance.\\n Please make sure you are on the right network and token address exists`\n      );\n      console.error('getBalance', e);\n    }\n  }\n  async getEthBalance() {\n    if ('' !== this.ethBalance) {\n      return this.ethBalance;\n    }\n    try {\n      const web3 = this.web3Store.web3;\n      let ethBalance = await web3.eth.getBalance(this.web3Store.defaultAccount);\n      ethBalance = Web3Utils.fromWei(ethBalance);\n      this.ethBalance = new BN(ethBalance).toFormat(3);\n      web3.eth.subscribe('newBlockHeaders', async (err, result) => {\n        if (err) {\n          console.log(err);\n          return;\n        }\n        let ethBalance = await web3.eth.getBalance(\n          this.web3Store.defaultAccount\n        );\n        ethBalance = Web3Utils.fromWei(ethBalance);\n        this.ethBalance = new BN(ethBalance).toFormat(3);\n      });\n      return this.ethBalance;\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  async getTokenSymbol(tokenAddress) {\n    if ('' !== this.tokenSymbol) {\n      return this.tokenSymbol;\n    }\n    try {\n      const web3 = this.web3Store.web3;\n      const token = new web3.eth.Contract(ERC20ABI, tokenAddress);\n      this.tokenSymbol = await token.methods.symbol().call();\n      return this.tokenSymbol;\n    } catch (e) {\n      this.errors.push(\n        'Token with this Address doesnt exist.\\n Please make sure you are on the right network and token address exists'\n      );\n      console.error(e);\n    }\n  }\n  @action\n  async getAllowance() {\n    if ('' !== this.allowance) {\n      return this.allowance;\n    }\n    try {\n      const web3 = this.web3Store.web3;\n      const token = new web3.eth.Contract(ERC20ABI, this.tokenAddress);\n      const allowance = await token.methods\n        .allowance(\n          this.web3Store.defaultAccount,\n          await this.proxyMultiSenderAddress()\n        )\n        .call();\n      this.allowance = new BN(allowance).div(this.multiplier).toString(10);\n      web3.eth.subscribe('newBlockHeaders', async (err, result) => {\n        if (err) {\n          console.log(err);\n          return;\n        }\n        const allowance = await token.methods\n          .allowance(\n            this.web3Store.defaultAccount,\n            await this.proxyMultiSenderAddress()\n          )\n          .call();\n        this.allowance = new BN(allowance).div(this.multiplier).toString(10);\n      });\n      return this.allowance;\n    } catch (e) {\n      this.errors\n        .push(`Token address doesn't have allowance method.\\n Please make sure you are on the right network and token address exists.\\n\n         Your account: ${this.web3Store.defaultAccount}`);\n      console.error('GetAllowance', e);\n    }\n  }\n\n  @action\n  async getCurrentFee() {\n    // const currentFee = \"100000000000000\"; // 0.0001 ETH\n    // this.currentFee = Web3Utils.fromWei(currentFee)\n    return this.currentFee;\n    // try {\n    //   this.web3Store.getWeb3Promise().then(async () => {\n    //     const web3 = this.web3Store.web3;\n    //     const multisender = new web3.eth.Contract(StormMultiSenderABI, await this.proxyMultiSenderAddress());\n    //     const currentFee = await multisender.methods.currentFee(this.web3Store.defaultAccount).call();\n    //     this.currentFee = Web3Utils.fromWei(currentFee)\n    //     return this.currentFee\n    //   })\n    // }\n    // catch(e){\n    //   console.error('getCurrentFee',e)\n    // }\n  }\n\n  setCurrentFee(currentFee) {\n    this.currentFee = Web3Utils.fromWei(currentFee);\n  }\n\n  async getArrayLimit() {\n    this.arrayLimit = 200;\n    // this.arrayLimit = 1;\n    return this.arrayLimit;\n    // try {\n    //   await this.web3Store.getWeb3Promise().then(async () => {\n    //     const web3 = this.web3Store.web3;\n    //     const multisender = new web3.eth.Contract(StormMultiSenderABI, await this.proxyMultiSenderAddress());\n    //     await multisender.methods.arrayLimit().call();\n    //     return this.arrayLimit\n    //   })\n    // }\n    // catch(e){\n    //   console.error('GetArrayLimit', e)\n    // }\n  }\n\n  @action\n  async setTokenAddress(tokenAddress) {\n    await this.web3Store.getWeb3Promise();\n    await this.getCurrentFee();\n    await this.getEthBalance();\n    await this.getArrayLimit();\n    this.decimals = '';\n    this.defAccTokenBalance = '';\n    this.allowance = '';\n    this.tokenSymbol = '';\n    if (\n      Web3Utils.isAddress(this.web3Store.defaultAccount) &&\n      tokenAddress !== '0x000000000000000000000000000000000000bEEF'\n    ) {\n      this.tokenAddress = tokenAddress;\n      await this.getDecimals(tokenAddress);\n      await this.getBalance();\n      await this.getAllowance();\n      await this.getTokenSymbol(tokenAddress);\n    } else {\n      this.tokenAddress = tokenAddress;\n      this.tokenSymbol = 'ETH';\n      this.decimals = 18;\n      this.defAccTokenBalance = this.ethBalance;\n    }\n  }\n\n  @action\n  setDecimals(decimals) {\n    this.decimals = decimals;\n  }\n\n  @action\n  setJsonAddresses(addresses) {\n    this.jsonAddresses = addresses;\n  }\n\n  @action\n  async reset() {\n    this.decimals = '';\n    this.jsonAddresses = [];\n    this.tokenAddress = '';\n    this.defAccTokenBalance = '';\n    this.allowance = '';\n    this.currentFee = '0';\n    this.tokenSymbol = '';\n    this.ethBalance = '';\n    this.balances_to_send = [];\n    this.addresses_to_send = [];\n    this.invalid_addresses = [];\n    this.filteredAddresses = [];\n    this.totalBalance = '0';\n    this.arrayLimit = 0;\n    this.errors = [];\n    this.dublicates = [];\n  }\n\n  @action\n  async parseAddresses() {\n    this.addresses_to_send = [];\n    this.dublicates = [];\n    this.totalBalance = 0;\n    this.invalid_addresses = [];\n    this.balances_to_send = [];\n    return new Promise((res, rej) => {\n      try {\n        this.jsonAddresses.forEach((account, index) => {\n          if (Object.keys(account).length === 0) {\n            rej({\n              message: `There was an error parsing ${JSON.stringify(\n                account\n              )} at line ${index}`,\n            });\n          }\n          const address = Object.keys(account)[0].replace(/\\s/g, '');\n          if (!Web3Utils.isAddress(address)) {\n            this.invalid_addresses.push(address);\n          } else {\n            let balance = Object.values(account)[0];\n            this.totalBalance = new BN(balance)\n              .plus(this.totalBalance)\n              .toString(10);\n            // console.log('balance,', balance)\n            balance = this.multiplier.times(balance);\n            const indexAddr = this.addresses_to_send.indexOf(address);\n            if (indexAddr === -1) {\n              this.addresses_to_send.push(address);\n              this.balances_to_send.push(balance.toString(10));\n            } else {\n              if (this.dublicates.indexOf(address) === -1) {\n                this.dublicates.push(address);\n              }\n              this.balances_to_send[indexAddr] = new BN(\n                this.balances_to_send[indexAddr]\n              )\n                .plus(balance)\n                .toString(10);\n            }\n          }\n        });\n\n        this.jsonAddresses = this.addresses_to_send.map((addr, index) => {\n          let obj = {};\n          obj[addr] = new BN(this.balances_to_send[index])\n            .div(this.multiplier)\n            .toString(10);\n          return obj;\n        });\n        res(this.jsonAddresses);\n        if (\n          this.tokenAddress === '0x000000000000000000000000000000000000bEEF'\n        ) {\n          this.allowance = this.totalBalance;\n        }\n      } catch (e) {\n        rej(e);\n      }\n    });\n  }\n\n  @computed get totalBalanceWithDecimals() {\n    return new BN(this.totalBalance).times(this.multiplier).toString(10);\n  }\n  @computed get multiplier() {\n    const decimals = Number(this.decimals);\n    return new BN(10).pow(decimals);\n  }\n\n  @computed get totalNumberTx() {\n    return Math.ceil(this.jsonAddresses.length / this.arrayLimit);\n  }\n\n  @computed get addressesData() {\n    return this.jsonAddresses.map((account) => {\n      const address = Object.keys(account)[0].replace(/\\s/g, '');\n      const balance = Object.values(account)[0];\n      return { address, balance };\n    });\n  }\n\n  // @computed get totalCostInEth(){\n  //   const standardGasPrice = Web3Utils.toWei(this.gasPriceStore.selectedGasPrice.toString(), 'gwei');\n  //   const currentFeeInWei = Web3Utils.toWei(this.currentFee);\n  //   const tx = new BN(standardGasPrice).times(new BN('5000000'))\n  //   const txFeeMiners = tx.times(new BN(this.totalNumberTx))\n  //   const contractFee = new BN(currentFeeInWei).times(this.totalNumberTx);\n  //\n  //   return Web3Utils.fromWei(txFeeMiners.plus(contractFee).toString(10))\n  // }\n}\n\nexport default TokenStore;\n","import { action, observable, computed } from 'mobx';\nimport Web3Utils from 'web3-utils';\n\nclass GasPriceStore {\n  @observable gasPrices = {};\n  @observable loading = true;\n  @observable gasPricesArray = [\n    { label: 'fast', value: '21' },\n    { label: 'standard', value: '21' },\n    { label: 'slow', value: '21' },\n    { label: 'instant', value: '21' },\n  ];\n  @observable selectedGasPrice = '22';\n  @observable selectedGasShare = '50';\n  gasPricePromise = null;\n  constructor(rootStore) {\n    this.getGasPrices();\n  }\n\n  async getGasPrices() {\n    this.gasPricePromise = fetch('https://gasprice.poa.network/')\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        this.gasPricesArray.map((v) => {\n          v.value = data[v.label];\n          v.label = `${v.label}: ${data[v.label]} gwei`;\n          return v;\n        });\n        this.selectedGasPrice = data.fast;\n        this.gasPrices = data;\n        this.loading = false;\n      })\n      .catch((e) => {\n        this.loading = true;\n        console.error(e);\n      });\n  }\n\n  @computed get standardInHex() {\n    const toWei = Web3Utils.toWei(this.selectedGasPrice.toString(), 'gwei');\n    return Web3Utils.toHex(toWei);\n  }\n  @action\n  setSelectedGasPrice(value) {\n    this.selectedGasPrice = value;\n  }\n\n  @action\n  setSelectedGasShare(value) {\n    this.selectedGasShare = value;\n  }\n}\n\nexport default GasPriceStore;\n","import { action, observable, computed, autorun, toJS } from 'mobx';\nimport Web3Utils from 'web3-utils';\nimport ERC20ABI from '../abis/ERC20ABI.json';\nimport MultiSenderAbi from '../abis/StormMultisender.json';\nimport Web3 from 'web3';\nimport { observer } from 'mobx-react';\nimport swal from 'sweetalert';\nconst BN = require('bignumber.js');\n\nclass TxStore {\n  @observable txs = [];\n  txHashToIndex = {};\n  @observable approval = '';\n  constructor(rootStore) {\n    this.tokenStore = rootStore.tokenStore;\n    this.web3Store = rootStore.web3Store;\n    this.gasPriceStore = rootStore.gasPriceStore;\n    this.interval = null;\n  }\n\n  @action\n  async reset() {\n    this.txs = [];\n    this.txHashToIndex = {};\n    this.approval = '';\n    this.keepRunning = false;\n    clearInterval(this.interval);\n  }\n\n  @action\n  async doSend() {\n    this.keepRunning = true;\n    this.txs = [];\n    this.approval = '';\n    if (\n      new BN(\n        this.tokenStore.totalBalance === '' ? '0' : this.tokenStore.totalBalance\n      ).gt(\n        new BN(\n          this.tokenStore.allowance === '' ? '0' : this.tokenStore.allowance\n        )\n      )\n    ) {\n      this._approve();\n      const interval = setInterval(() => {\n        if (this.approval) {\n          const index = this.txHashToIndex[this.approval];\n          console.log(\n            'checking autorun',\n            index,\n            this.approval,\n            this.txHashToIndex,\n            toJS(this.txs)\n          );\n          if (this.txs[index] && this.txs[index].status === 'mined') {\n            clearInterval(interval);\n            console.log(\n              'lets GO!',\n              this.tokenStore.totalNumberTx,\n              this.tokenStore.arrayLimit\n            );\n            setTimeout(() => {\n              this._multisend({\n                slice: this.tokenStore.totalNumberTx,\n                addPerTx: this.tokenStore.arrayLimit,\n              });\n            }, 1000);\n          }\n        } else {\n          console.log('checking autorun', this.txHashToIndex, toJS(this.txs));\n        }\n      }, 3000);\n      this.interval = interval;\n    } else {\n      this._multisend({\n        slice: this.tokenStore.totalNumberTx,\n        addPerTx: this.tokenStore.arrayLimit,\n      });\n    }\n  }\n\n  @action\n  async doApprove() {\n    this.keepRunning = true;\n    this.txs = [];\n    this.approval = '';\n    if (\n      new BN(\n        this.tokenStore.totalBalance === '' ? '0' : this.tokenStore.totalBalance\n      ).gt(\n        new BN(\n          this.tokenStore.allowance === '' ? '0' : this.tokenStore.allowance\n        )\n      )\n    ) {\n      this._approve();\n      const interval = setInterval(() => {\n        if (this.approval) {\n          const index = this.txHashToIndex[this.approval];\n          console.log(\n            'checking autorun',\n            index,\n            this.approval,\n            this.txHashToIndex,\n            toJS(this.txs)\n          );\n          if (this.txs[index] && this.txs[index].status === 'mined') {\n            clearInterval(interval);\n            console.log('Approve complete');\n          }\n        } else {\n          console.log('checking autorun', this.txHashToIndex, toJS(this.txs));\n        }\n      }, 3000);\n      this.interval = interval;\n    }\n  }\n\n  async _approve() {\n    const index = this.txs.length;\n    const web3 = this.web3Store.web3;\n    const token = new web3.eth.Contract(ERC20ABI, this.tokenStore.tokenAddress);\n    try {\n      return token.methods\n        .approve(\n          await this.tokenStore.proxyMultiSenderAddress(),\n          this.tokenStore.totalBalanceWithDecimals\n        )\n        .send({\n          from: this.web3Store.defaultAccount,\n          gasPrice: this.gasPriceStore.standardInHex,\n        })\n        .once('transactionHash', (hash) => {\n          this.approval = hash;\n          this.txHashToIndex[hash] = index;\n          this.txs[index] = {\n            status: 'pending',\n            name: `MultiSender Approval to spend ${this.tokenStore.totalBalance} ${this.tokenStore.tokenSymbol}`,\n            hash,\n          };\n        })\n        .once('receipt', async (receipt) => {\n          await this.getTxStatus(receipt.transactionHash);\n        })\n        .on('error', (error) => {\n          swal('Error!', error.message, 'error');\n          console.error(error);\n        });\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  async getApproveGas() {\n    const web3 = this.web3Store.web3;\n    const token = new web3.eth.Contract(ERC20ABI, this.tokenStore.tokenAddress);\n    let encodedData = await token.methods\n      .approve(\n        await this.tokenStore.proxyMultiSenderAddress(),\n        this.tokenStore.totalBalanceWithDecimals\n      )\n      .encodeABI({ from: this.web3Store.defaultAccount });\n    return web3.eth.estimateGas({\n      from: this.web3Store.defaultAccount,\n      data: encodedData,\n      to: this.tokenStore.tokenAddress,\n    });\n  }\n\n  async _getTransferGas(to, value) {\n    const web3 = this.web3Store.web3;\n    const { tokenAddress } = this.tokenStore;\n    if (tokenAddress === '0x000000000000000000000000000000000000bEEF') {\n      return web3.eth.estimateGas({\n        from: this.web3Store.defaultAccount,\n        // data: null,\n        value: value,\n        to: to,\n      });\n    } else {\n      const token = new web3.eth.Contract(\n        ERC20ABI,\n        this.tokenStore.tokenAddress\n      );\n      const encodedData = await token.methods\n        .transfer(to, value)\n        .encodeABI({ from: this.web3Store.defaultAccount });\n      return await web3.eth.estimateGas({\n        from: this.web3Store.defaultAccount,\n        data: encodedData,\n        to: this.tokenStore.tokenAddress,\n      });\n    }\n  }\n\n  async getTransferGas() {\n    let totalGas = 0;\n    let { addresses_to_send, balances_to_send } = this.tokenStore;\n    for (let i = 0; i < addresses_to_send.length; i++) {\n      const to = addresses_to_send[i];\n      const value = balances_to_send[i];\n      totalGas += await this._getTransferGas(to, value);\n    }\n    return totalGas;\n  }\n\n  async getMultisendGas({ slice, addPerTx }) {\n    let totalGas = 0;\n\n    const token_address = this.tokenStore.tokenAddress;\n    let {\n      addresses_to_send,\n      balances_to_send,\n      currentFee,\n      totalBalance,\n    } = this.tokenStore;\n\n    const start = (slice - 1) * addPerTx;\n    const end = slice * addPerTx;\n    addresses_to_send = addresses_to_send.slice(start, end);\n    balances_to_send = balances_to_send.slice(start, end);\n    const totalInWei = balances_to_send.reduce((total, val) => {\n      return total.plus(new BN(val));\n    }, new BN('0'));\n    const balances_to_send_sum = totalInWei.toString(10);\n    let ethValue;\n    if (token_address === '0x000000000000000000000000000000000000bEEF') {\n      const totalInEth = Web3Utils.fromWei(totalInWei.toString());\n      ethValue = new BN(currentFee).plus(totalInEth);\n    } else {\n      ethValue = new BN(currentFee);\n    }\n    console.log(\n      'slice',\n      slice,\n      addresses_to_send[0],\n      balances_to_send[0],\n      addPerTx\n    );\n    const web3 = this.web3Store.web3;\n    const multisender = new web3.eth.Contract(\n      MultiSenderAbi,\n      await this.tokenStore.proxyMultiSenderAddress()\n    );\n\n    if (token_address === '0x000000000000000000000000000000000000bEEF') {\n      const encodedData = await multisender.methods\n        .multiTransfer_OST(addresses_to_send, balances_to_send)\n        .encodeABI({ from: this.web3Store.defaultAccount });\n      // console.log(\"web3.eth.estimateGas:\", web3.eth.estimateGas)\n      // console.log(\"web3.eth:\", web3.eth)\n      const gas = await web3.eth.estimateGas({\n        from: this.web3Store.defaultAccount,\n        data: encodedData,\n        value: Web3Utils.toHex(Web3Utils.toWei(ethValue.toString())),\n        to: await this.tokenStore.proxyMultiSenderAddress(),\n      });\n      totalGas += gas;\n    } else {\n      const encodedData = await multisender.methods\n        .multiTransferToken_a4A(\n          token_address,\n          addresses_to_send,\n          balances_to_send,\n          balances_to_send_sum\n        )\n        .encodeABI({ from: this.web3Store.defaultAccount });\n      const gas = await web3.eth.estimateGas({\n        from: this.web3Store.defaultAccount,\n        data: encodedData,\n        value: Web3Utils.toHex(Web3Utils.toWei(ethValue.toString())),\n        to: await this.tokenStore.proxyMultiSenderAddress(),\n      });\n      totalGas += gas;\n    }\n    slice--;\n    if (slice > 0) {\n      totalGas += await this.getMultisendGas({ slice, addPerTx });\n    }\n    return totalGas;\n  }\n\n  async _multisend({ slice, addPerTx }) {\n    if (!this.keepRunning) {\n      return;\n    }\n    const token_address = this.tokenStore.tokenAddress;\n    let {\n      addresses_to_send,\n      balances_to_send,\n      currentFee,\n      totalBalance,\n    } = this.tokenStore;\n\n    const start = (slice - 1) * addPerTx;\n    const end = slice * addPerTx;\n    addresses_to_send = addresses_to_send.slice(start, end);\n    balances_to_send = balances_to_send.slice(start, end);\n    const totalInWei = balances_to_send.reduce((total, val) => {\n      return total.plus(new BN(val));\n    }, new BN('0'));\n    const balances_to_send_sum = totalInWei.toString(10);\n    let ethValue;\n    if (token_address === '0x000000000000000000000000000000000000bEEF') {\n      const totalInEth = Web3Utils.fromWei(totalInWei.toString());\n      ethValue = new BN(currentFee).plus(totalInEth);\n    } else {\n      ethValue = new BN(currentFee);\n    }\n    console.log(\n      'slice',\n      slice,\n      addresses_to_send[0],\n      balances_to_send[0],\n      addPerTx\n    );\n    const web3 = this.web3Store.web3;\n    const multisender = new web3.eth.Contract(\n      MultiSenderAbi,\n      await this.tokenStore.proxyMultiSenderAddress()\n    );\n\n    try {\n      if (token_address === '0x000000000000000000000000000000000000bEEF') {\n        let encodedData = await multisender.methods\n          .multiTransfer_OST(addresses_to_send, balances_to_send)\n          .encodeABI({ from: this.web3Store.defaultAccount });\n        let gas = await web3.eth.estimateGas({\n          from: this.web3Store.defaultAccount,\n          data: encodedData,\n          value: Web3Utils.toHex(Web3Utils.toWei(ethValue.toString())),\n          to: await this.tokenStore.proxyMultiSenderAddress(),\n        });\n        console.log('gas', gas);\n        let tx = multisender.methods\n          .multiTransfer_OST(addresses_to_send, balances_to_send)\n          .send({\n            from: this.web3Store.defaultAccount,\n            gasPrice: this.gasPriceStore.standardInHex,\n            gas: Web3Utils.toHex(gas),\n            value: Web3Utils.toHex(Web3Utils.toWei(ethValue.toString())),\n          })\n\n          .once('transactionHash', (hash) => {\n            this.txHashToIndex[hash] = this.txs.length;\n            this.txs.push({\n              status: 'pending',\n              name: `Sending Batch #${this.txs.length} ${\n                this.tokenStore.tokenSymbol\n              }\\n\n            From ${addresses_to_send[0].substring(\n              0,\n              7\n            )} to: ${addresses_to_send[addresses_to_send.length - 1].substring(\n                0,\n                7\n              )}\n          `,\n              hash,\n            });\n          })\n          .once('receipt', async (receipt) => {\n            await this.getTxStatus(receipt.transactionHash);\n          })\n          .on('error', (error) => {\n            swal('Error!', error.message, 'error');\n            console.log(error);\n            // re-send\n            this._multisend({ slice, addPerTx });\n          });\n      } else {\n        let encodedData = await multisender.methods\n          .multiTransferToken_a4A(\n            token_address,\n            addresses_to_send,\n            balances_to_send,\n            balances_to_send_sum\n          )\n          .encodeABI({ from: this.web3Store.defaultAccount });\n        let gas = await web3.eth.estimateGas({\n          from: this.web3Store.defaultAccount,\n          data: encodedData,\n          value: Web3Utils.toHex(Web3Utils.toWei(ethValue.toString())),\n          to: await this.tokenStore.proxyMultiSenderAddress(),\n        });\n        console.log('gas', gas);\n        let tx = multisender.methods\n          .multiTransferToken_a4A(\n            token_address,\n            addresses_to_send,\n            balances_to_send,\n            balances_to_send_sum\n          )\n          .send({\n            from: this.web3Store.defaultAccount,\n            gasPrice: this.gasPriceStore.standardInHex,\n            gas: Web3Utils.toHex(gas),\n            value: Web3Utils.toHex(Web3Utils.toWei(ethValue.toString())),\n          })\n\n          .once('transactionHash', (hash) => {\n            this.txHashToIndex[hash] = this.txs.length;\n            this.txs.push({\n              status: 'pending',\n              name: `Sending Batch #${this.txs.length} ${\n                this.tokenStore.tokenSymbol\n              }\\n\n            From ${addresses_to_send[0].substring(\n              0,\n              7\n            )} to: ${addresses_to_send[addresses_to_send.length - 1].substring(\n                0,\n                7\n              )}\n          `,\n              hash,\n            });\n          })\n          .once('receipt', async (receipt) => {\n            await this.getTxStatus(receipt.transactionHash);\n          })\n          .on('error', (error) => {\n            swal('Error!', error.message, 'error');\n            console.log(error);\n            // re-send\n            this._multisend({ slice, addPerTx });\n          });\n      }\n      slice--;\n      if (slice > 0) {\n        this._multisend({ slice, addPerTx });\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  async getTxReceipt(hash) {\n    console.log('getTxReceipt');\n    try {\n      const web3 = this.web3Store.web3;\n      const res = await web3.eth.getTransaction(hash);\n      return res;\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  async getTxStatus(hash) {\n    console.log('GET TX STATUS', hash);\n    if (!this.keepRunning) {\n      return;\n    }\n    const index = this.txHashToIndex[hash];\n    const web3 = this.web3Store.web3;\n\n    const txInfo = await web3.eth.getTransaction(hash);\n    const receipt = await web3.eth.getTransactionReceipt(hash);\n    if (receipt.hasOwnProperty('status')) {\n      if (receipt.status === '0x1') {\n        this.txs[index].status = `mined`;\n      } else if (receipt.status === '0x0') {\n        // if (receipt.gasUsed > txInfo.gas) {\n        this.txs[index].status = `error`;\n        this.txs[index].name = `Mined but with errors. Perhaps out of gas`;\n        // } else {\n        //   this.txs[index].status = `error`\n        //   this.txs[index].name = `Mined but with errors. Perhaps out of gas`\n        //   // bad tx status, not confirmed!\n        // }\n      } else {\n        // unknown status. pre-Byzantium\n        if (receipt.gasUsed >= txInfo.gas) {\n          this.txs[index].status = `error`;\n          this.txs[index].name = `Mined but with errors. Perhaps out of gas`;\n        } else {\n          this.txs[index].status = `mined`;\n        }\n      }\n    } else {\n      // unknown status. pre-Byzantium\n      if (receipt.gasUsed >= txInfo.gas) {\n        this.txs[index].status = `error`;\n        this.txs[index].name = `Mined but with errors. Perhaps out of gas`;\n      } else {\n        this.txs[index].status = `mined`;\n      }\n    }\n  }\n\n  // gas used by the already processed Approve tx\n  async getApproveTxGas() {\n    if ('' === this.approval) {\n      return 0;\n    }\n    const web3 = this.web3Store.web3;\n    const receipt = await web3.eth.getTransactionReceipt(this.approval);\n    return receipt.gasUsed;\n  }\n}\n\nexport default TxStore;\n","import Web3Store from './web3Store';\nimport TokenStore from './tokenStore';\nimport GasPriceStore from './gasPriceStore';\nimport TxStore from './txStore';\n\nclass UiStore {\n  constructor() {\n    this.gasPriceStore = new GasPriceStore();\n    this.web3Store = new Web3Store(this);\n    this.tokenStore = new TokenStore(this);\n    this.txStore = new TxStore(this);\n  }\n}\n\nexport default new UiStore();\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\nimport { HashRouter } from 'react-router-dom';\nimport { Provider } from 'mobx-react';\nimport UiStore from './stores/UiStore';\n\nconst Root = (\n  <Provider UiStore={UiStore}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>\n);\nReactDOM.render(Root, document.getElementById('wp-multisender-container'));\n"],"sourceRoot":""}